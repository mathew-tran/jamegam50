[gd_scene load_steps=27 format=3 uid="uid://ynu4hab6besn"]

[ext_resource type="Script" uid="uid://bx0itqrisx6qs" path="res://Scripts/Main.gd" id="1_7qjir"]
[ext_resource type="Script" uid="uid://byqjsgo6271ad" path="res://DataTypes/CutsceneData.gd" id="2_72s53"]
[ext_resource type="Texture2D" uid="uid://cdenuwn2np3os" path="res://Art/CutSceneStills/factory1.PNG" id="3_jaiep"]
[ext_resource type="Script" uid="uid://dvueh6b07v70v" path="res://DataTypes/OptionData.gd" id="3_lfjbx"]
[ext_resource type="Resource" uid="uid://cka4xesmx7e7g" path="res://Content/Characters/Character_PlayerChip.tres" id="6_bv73p"]
[ext_resource type="AudioStream" uid="uid://c3x4n6ppqn1ol" path="res://Audio/SFX/pain.wav" id="7_c1c2q"]
[ext_resource type="Texture2D" uid="uid://cgdy8q02w8qt5" path="res://Art/Environment/Factory/factory1.PNG" id="8_xkshq"]
[ext_resource type="PackedScene" uid="uid://m7eqcxxm3e24" path="res://Prefabs/Player.tscn" id="9_1matk"]
[ext_resource type="Resource" uid="uid://dj34nl5s4isfl" path="res://Content/Characters/Character_Player_Factory.tres" id="9_41onr"]
[ext_resource type="PackedScene" uid="uid://cmwjabbwgt077" path="res://Prefabs/UI/InteractPanel.tscn" id="10_7a2xq"]
[ext_resource type="PackedScene" uid="uid://bcml3rn2er3g2" path="res://Prefabs/Environment/House/InteractableDoor.tscn" id="11_72s53"]
[ext_resource type="Script" uid="uid://xaed3k8cptud" path="res://Scripts/CoverPanel.gd" id="12_xkshq"]
[ext_resource type="Resource" uid="uid://dir7xd1s77l2x" path="res://Content/StoryFlags/FLAG_006_NO_MEDICAL.tres" id="13_41onr"]
[ext_resource type="Texture2D" uid="uid://u52f2do5qjsx" path="res://Art/CutSceneStills/BlackScreen.png" id="13_onsst"]
[ext_resource type="PackedScene" uid="uid://cic07ev5n0vgg" path="res://Prefabs/Environment/Blockers/Blocker.tscn" id="16_41onr"]

[sub_resource type="Resource" id="Resource_7qjir"]
script = ExtResource("2_72s53")
TextToSay = "You arrive at the WHITE WHALE factory."
BackgroundImage = ExtResource("3_jaiep")
MusicType = 5
Options = Array[ExtResource("3_lfjbx")]([])
ScreenEffect = 0
EndCutSceneSubscriber = NodePath("")
metadata/_custom_type_script = "uid://byqjsgo6271ad"

[sub_resource type="Resource" id="Resource_72s53"]
script = ExtResource("2_72s53")
TextToSay = "You get to work assembling computer chips.
A few hours pass.
..
A factory sound begins to ring."
MusicType = 2
Options = Array[ExtResource("3_lfjbx")]([])
ScreenEffect = 0
EndCutSceneSubscriber = NodePath("")
metadata/_custom_type_script = "uid://byqjsgo6271ad"

[sub_resource type="Resource" id="Resource_lfjbx"]
script = ExtResource("2_72s53")
TextToSay = "A red light flashes then the simulated voice begins to speak."
MusicType = 2
Options = Array[ExtResource("3_lfjbx")]([])
ScreenEffect = 0
EndCutSceneSubscriber = NodePath("")
metadata/_custom_type_script = "uid://byqjsgo6271ad"

[sub_resource type="Resource" id="Resource_er777"]
script = ExtResource("2_72s53")
TextToSay = "BZZT..
EMPLOYEE 2329. IT IS TIME FOR YOUR BREAK.
PLEASE VACATE YOUR WORK AREA.
EMPLOYEE 9048 WILL TAKE YOUR PLACE.
.."
Owner = ExtResource("6_bv73p")
MusicType = 2
Options = Array[ExtResource("3_lfjbx")]([])
ScreenEffect = 0
EndCutSceneSubscriber = NodePath("")
metadata/_custom_type_script = "uid://byqjsgo6271ad"

[sub_resource type="Resource" id="Resource_x3wfb"]
script = ExtResource("2_72s53")
TextToSay = "..
A sharp sound rings in your ears..
You clutch your head."
MusicType = 2
SFX = ExtResource("7_c1c2q")
Options = Array[ExtResource("3_lfjbx")]([])
ScreenEffect = 1
EndCutSceneSubscriber = NodePath("")
metadata/_custom_type_script = "uid://byqjsgo6271ad"

[sub_resource type="Resource" id="Resource_a0562"]
script = ExtResource("2_72s53")
TextToSay = "Damn… what the hell is that!?
It's unbearable!"
Owner = ExtResource("9_41onr")
MusicType = 2
Options = Array[ExtResource("3_lfjbx")]([])
ScreenEffect = 0
EndCutSceneSubscriber = NodePath("")
metadata/_custom_type_script = "uid://byqjsgo6271ad"

[sub_resource type="Resource" id="Resource_n67k7"]
script = ExtResource("2_72s53")
TextToSay = "Ugh.
..
I need.. I need help. I gotta go to the medical unit."
Owner = ExtResource("9_41onr")
MusicType = 2
Options = Array[ExtResource("3_lfjbx")]([])
ScreenEffect = 0
EndCutSceneSubscriber = NodePath("")
metadata/_custom_type_script = "uid://byqjsgo6271ad"

[sub_resource type="Resource" id="Resource_7g1ov"]
script = ExtResource("3_lfjbx")
OptionName = "Continue"
CutScenes = Array[ExtResource("2_72s53")]([SubResource("Resource_x3wfb"), SubResource("Resource_a0562"), SubResource("Resource_n67k7")])
metadata/_custom_type_script = "uid://dvueh6b07v70v"

[sub_resource type="Resource" id="Resource_1matk"]
script = ExtResource("2_72s53")
TextToSay = "..
This circuit board pisses me off..
It’s really uncomfortable to be aware that some crap is inside my brain
"
Owner = ExtResource("9_41onr")
MusicType = 2
Options = Array[ExtResource("3_lfjbx")]([SubResource("Resource_7g1ov")])
ScreenEffect = 0
EndCutSceneSubscriber = NodePath("")
metadata/_custom_type_script = "uid://byqjsgo6271ad"

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_hydla"]
bg_color = Color(0, 0, 0, 1)

[sub_resource type="Resource" id="Resource_7a2xq"]
script = ExtResource("2_72s53")
TextToSay = "You proceed to look for the medical room."
BackgroundImage = ExtResource("13_onsst")
MusicType = 2
Options = Array[ExtResource("3_lfjbx")]([])
ScreenEffect = 0
EndCutSceneSubscriber = NodePath("")
metadata/_custom_type_script = "uid://byqjsgo6271ad"

[node name="Node2D" type="Node2D"]
script = ExtResource("1_7qjir")
StartingCutScene = Array[ExtResource("2_72s53")]([SubResource("Resource_7qjir"), SubResource("Resource_72s53"), SubResource("Resource_lfjbx"), SubResource("Resource_er777"), SubResource("Resource_1matk")])
Delay = -1.0

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(955, 535)
texture = ExtResource("8_xkshq")

[node name="Environment" type="Node2D" parent="."]

[node name="Player" parent="." instance=ExtResource("9_1matk")]
position = Vector2(817, 716)
CurrentArea = 2

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Panel" parent="CanvasLayer" groups=["InteractPanel"] instance=ExtResource("10_7a2xq")]
visible = false

[node name="CoverPanel" type="Panel" parent="CanvasLayer"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_hydla")
script = ExtResource("12_xkshq")
FlagToListenTo = ExtResource("13_41onr")

[node name="InteractableDoor" parent="." instance=ExtResource("11_72s53")]
position = Vector2(855, 1031)
SceneToChangeTo = "uid://d1whs8f10sg5k"
bHideIfCantBeInteracted = false
InteractText = "GO TO FACTORY FLOOR"
CutScenes = Array[ExtResource("2_72s53")]([SubResource("Resource_7a2xq")])

[node name="Blocker" parent="." instance=ExtResource("16_41onr")]
position = Vector2(63, 497)

[node name="Blocker2" parent="." instance=ExtResource("16_41onr")]
position = Vector2(156, 1056)

[node name="Blocker3" parent="." instance=ExtResource("16_41onr")]
position = Vector2(246, 573)
rotation = 1.57079

[node name="Blocker4" parent="." instance=ExtResource("16_41onr")]
position = Vector2(436, 980)
rotation = 1.57079

[node name="Blocker5" parent="." instance=ExtResource("16_41onr")]
position = Vector2(1454, 193)
rotation = 1.57079

[node name="Blocker6" parent="." instance=ExtResource("16_41onr")]
position = Vector2(336, 870)
rotation = 3.14159
